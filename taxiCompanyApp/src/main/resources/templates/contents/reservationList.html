<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/layout">
    <head>
        <title>予約一覧</title>
        <link th:href="@{/css/list.css}" rel="stylesheet"/>
    </head>
    <body>
        <section layout:fragment="content">
            <div class="content">
                <h1>予約一覧</h1>
                <table rules="rows">
                    <tr>
                        <th>予約番号</th>
                        <th>乗車日</th>
                        <th>乗車時間</th>
                        <th>ステータス</th>
                        <th>乗車人数(大人)</th>
                        <th>乗車人数(子供)</th>
                    </tr>
                    <tr th:each="rsvInfo :${rsvList}" th:attr="onclick='getDetail(\'' + ${rsvInfo.reservationId} +'\');'">
                        <td id="reservationId" th:text="${rsvInfo.reservationId}"></td>
                        <td th:text="${rsvInfo.rideOnDate}"></td>
                        <td th:text="${rsvInfo.rideOnTime}"></td>
                        <td th:text="${rsvInfo.status}"></td>
                        <td th:text="${rsvInfo.adult}"></td>
                        <td th:text="${rsvInfo.child}"></td>
                        <form th:attr="id='listForm' + ${rsvInfo.reservationId}" th:action="@{/reservation/detail}" method="get">
                            <input th:type="hidden" th:name="reservationId" th:value="${rsvInfo.reservationId}" />
                        </form>
                    </tr>
                </table>
            </div>
        </section>
        <script type="text/javascript">
            /** 詳細表示
             * TODO action="/reservation/detail" method="get" param="reservationId=<ID>"
             * /

             /** ポーリング
             *  TODO action="/reservation/update" method="get"にポーリングして更新情報があるかを取得する
             *  TODO 更新情報がある場合はUIを更新する
             */
        </script>
    </body>
</html>