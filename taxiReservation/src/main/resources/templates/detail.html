<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=10.0, user-scalable=yes">
    <title>予約詳細</title>
    <script type="text/javascript">
<!--

function cancelCheck(id,lastUpdate){
    var result = window.confirm('取り消してよろしいですか？')

	if(result){
		//フォーム作成
        var form = document.createElement("form");
        form.setAttribute("action", "./cancelComplete");
        form.setAttribute("method", "post");
        form.style.display = "none";
        document.body.appendChild(form);

        //送信値
        var input = document.createElement('input');
        input.setAttribute('type',  'hidden');
        input.setAttribute('name', 'id');
        input.setAttribute('value', id);
        form.appendChild(input);

        input = document.createElement('input');
        input.setAttribute('type',  'hidden');
        input.setAttribute('name', 'lastUpdate');
        input.setAttribute('value', lastUpdate);
        form.appendChild(input);

        form.submit();
	}
}
-->

    </script>

</head>

<body>
<h1>予約詳細</h1>
<form method="post">
    <table th:object="${rsvDetail}">
        <thead>
        <tr>
            <th>予約番号</th>
            <td th:text="*{id}"></td>
        </tr>
        <tr>
            <th>ステータス</th>
            <td th:text="*{status}"></td>
        </tr>
        <tr>
            <th>日付</th>
            <td th:text="*{date}"></td>
        </tr>
        <tr>
            <th>時間</th>
            <td th:text="*{time}"></td>
        </tr>
        <tr>
            <th>大人</th>
            <td th:text="*{adult}"></td>
        </tr>
        <tr>
            <th>子供</th>
            <td th:text="*{child}"></td>
        </tr>
        <tr>
            <th>台数</th>
            <td th:text="*{car_dispatch}"></td>
        </tr>
        <tr>
            <th>会社名</th>
            <td th:text="*{company_name}"></td>
        </tr>
        <tr>
            <th>目的地</th>
            <td th:text="*{destination}"></td>
        </tr>
        <tr>
            <th>名前</th>
            <td th:text="*{passenger_name}"></td>
        </tr>

        <tr>
            <th>フリガナ</th>
            <td th:text="*{passenger_phonetic}"></td>
        </tr>

        <tr>
            <th>電話番号</th>
            <td th:text="*{phone}"></td>
        </tr>
        <tr>
            <th>メールアドレス</th>
            <td th:text="*{mail}"></td>
        </tr>
        <tr>
            <th>利用者コメント</th>
            <td th:text="*{comment}"></td>
        </tr>
        <tr>
            <th>車両番号</th>
            <td th:text="*{car_number}"></td>
        </tr>
        <tr>
            <th>タクシー連絡先</th>
            <td th:text="*{car_contact}"></td>
        </tr>
        <tr>
            <th>ご案内事項</th>
            <td th:text="*{notice}"></td>
        </tr>
    </table>

    <button type="button" th:attr="onclick='cancelCheck(\'' + ${rsvDetail.id} + '\',\'' + ${rsvDetail.lastUpdate} + '\');'">
        取消する
    </button>

    <button type="submit" formaction="./change" name="id" th:value="${rsvDetail.id}">
        変更する
    </button>

</form>


</body>

</html>